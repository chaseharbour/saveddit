{"version":3,"sources":["Contexts/AuthContext.js","icons/close.svg","Components/Modal.js","Components/Loading.js","Components/Dashboard.js","Components/Login.js","Components/Welcome.js","Components/Home.js","Components/Navigation.js","App.js","index.js"],"names":["AuthContext","createContext","AuthProvider","children","useState","isAuth","setIsAuth","userName","setUserName","isLoading","setIsLoading","Provider","value","setAuthData","bool","setLoadingState","setUserData","data","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fillRule","d","clipRule","SvgClose","_ref","svgRef","title","titleId","props","xmlns","viewBox","fill","ref","id","ForwardRef","Modal","currImageSrc","currImageAlt","setModalActive","className","src","alt","onClick","Loading","Dashboard","userSelectedImg","setUserSelectedImg","modalActive","userSavedPosts","setUSerSavedPosts","nextPageQuery","setNextPageQuery","dataLoading","setDataLoading","useContext","imgClickEvent","e","clickedImgObj","find","el","clickedImgFullSizeSrc","imgFull","clickedImgAlt","getSavedQuery","fetch","process","mode","method","credentials","headers","then","response","status","json","Error","responseJson","prevItems","catch","error","console","useEffect","slice","postFullname","map","imgMed","Login","url","Fragment","href","Welcome","envUrl","log","Home","user","Navigation","window","open","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d148ae4f.chunk.js","sourcesContent":["import React, { useState, createContext } from \"react\";\n\nexport const AuthContext = createContext({});\n\nconst AuthProvider = ({ children }) => {\n  const [isAuth, setIsAuth] = useState(false);\n  const [userName, setUserName] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const setAuthData = (bool) => {\n    setIsAuth(bool);\n  };\n\n  const setLoadingState = (bool) => {\n    setIsLoading(bool);\n  };\n\n  const setUserData = (data) => {\n    setUserName(data);\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isAuth,\n        userName,\n        isLoading,\n        setAuthData,\n        setLoadingState,\n        setUserData,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthProvider;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.94dd49a8.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as Close } from \"../icons/close.svg\";\n\nconst Modal = (props) => {\n  const { currImageSrc, currImageAlt, setModalActive } = props;\n\n  const deactivateModal = () => {\n    setModalActive(false);\n  };\n  return (\n    <div className=\"modal-background\">\n      <div className=\"image-modal\">\n        <img src={currImageSrc} alt={currImageAlt} />\n      </div>\n      <button className=\"image-modal_close exit-btn\" onClick={deactivateModal}>\n        <Close />\n      </button>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\n\nconst Loading = () => {\n  return (\n    <div className=\"loading-container\">\n      <span className=\"loading loading-anim_1\">.</span>\n      <span className=\"loading loading-anim_2\">.</span>\n      <span className=\"loading loading-anim_3\">.</span>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { AuthContext } from \"../Contexts/AuthContext\";\nimport Modal from \"./Modal\";\nimport Loading from \"./Loading\";\n\nconst Dashboard = () => {\n  const [userSelectedImg, setUserSelectedImg] = useState(null);\n  const [modalActive, setModalActive] = useState(false);\n  const [userSavedPosts, setUSerSavedPosts] = useState([]);\n  const [nextPageQuery, setNextPageQuery] = useState(1);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [isLastPage, setIsLastPage] = useState(false);\n\n  const { userName } = useContext(AuthContext);\n\n  const imgClickEvent = (e) => {\n    const clickedImgObj = userSavedPosts.find(\n      (el) => el.title === e.target.alt\n    );\n    const clickedImgFullSizeSrc = clickedImgObj.imgFull;\n    const clickedImgAlt = clickedImgObj.title;\n\n    setUserSelectedImg({ src: clickedImgFullSizeSrc, alt: clickedImgAlt });\n    setModalActive(true);\n  };\n\n  const getSavedQuery = () => {\n    setDataLoading(true);\n    fetch(`${process.env.REACT_APP_DASHBOARD}/${nextPageQuery}`, {\n      mode: \"cors\",\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        if (response.status === 200) return response.json();\n        throw new Error(\"Failed to retrieve subreddits\");\n      })\n      .then((responseJson) => {\n        //Subsequent queries are sent with a unique post identifier. Complimentary back-end logic can be found at ../../../server/routes/dashboard_routes.js line 55.\n        if (nextPageQuery !== 1) {\n          setUSerSavedPosts((prevItems) => [...prevItems, ...responseJson]);\n        } else {\n          setUSerSavedPosts(responseJson);\n        }\n        setDataLoading(false);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  useEffect(() => {\n    getSavedQuery();\n  }, []);\n\n  useEffect(() => {\n    if (userSavedPosts.length > 1) {\n      setNextPageQuery(\n        userSavedPosts.slice(userSavedPosts.length - 1)[0].postFullname\n      );\n    }\n  }, [userSavedPosts]);\n\n  return (\n    <main className=\"dashboard-container\">\n      <aside className=\"dashboard-header\">\n        <h1 className=\"dashboard-header_text\">\n          Showing saved content for{\" \"}\n          <span className=\"contrast-text\">u/{userName}</span>\n        </h1>\n      </aside>\n\n      <section className=\"image-container\">\n        {userSavedPosts ? (\n          userSavedPosts.map((i) => {\n            return (\n              <img\n                className=\"image-container_item img-med\"\n                onClick={imgClickEvent}\n                key={i.postFullname}\n                src={i.imgMed}\n                alt={i.title}\n              ></img>\n            );\n          })\n        ) : (\n          <p>No saved images found.</p>\n        )}\n      </section>\n      {userSavedPosts && !dataLoading ? (\n        <button className=\"btn\" onClick={getSavedQuery}>\n          <p>Load More</p>\n        </button>\n      ) : (\n        <Loading />\n      )}\n      {userSelectedImg && modalActive ? (\n        <Modal\n          currImageSrc={userSelectedImg.src}\n          currImageAlt={userSelectedImg.alt}\n          setModalActive={setModalActive}\n        />\n      ) : null}\n    </main>\n  );\n};\n\nexport default Dashboard;\n","import React from \"react\";\n\nconst Login = ({ url }) => {\n  return (\n    <React.Fragment>\n      <section className=\"login\">\n        <a\n          className=\"high-contrast-btn login-link\"\n          href={url}\n          // href=\"https://aqueous-hollows-02149.herokuapp.com/auth/reddit\"\n        >\n          Login\n        </a>\n      </section>\n    </React.Fragment>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport Login from \"./Login\";\n\n//TODO: Create routing\n//Fetch data from backend\n\nconst Welcome = (props) => {\n  const envUrl = process.env.REACT_APP_LOGIN;\n  console.log(envUrl);\n  return (\n    <React.Fragment>\n      <section className=\"welcome\">\n        <h1 className=\"welcome-header_text\">All of your saved images</h1>\n        <h2 className=\"welcome-subhead\">in one convenient place</h2>\n        <p className=\"welcome-description_text\">\n          Log in through Reddit and we’ll take care of the rest. You will be\n          able to scroll through all images saved to your Reddit account to your\n          heart’s content.\n        </p>\n        <Login url={envUrl} />\n      </section>\n    </React.Fragment>\n  );\n};\n\nexport default Welcome;\n","import React, { useEffect, useContext } from \"react\";\nimport { AuthContext } from \"../Contexts/AuthContext\";\nimport Dashboard from \"./Dashboard\";\nimport Welcome from \"./Welcome\";\n\nconst Home = (props) => {\n  const { isAuth, setAuthData, setLoadingState, setUserData } =\n    useContext(AuthContext);\n\n  useEffect(() => {\n    // fetch(\"https://aqueous-hollows-02149.herokuapp.com/auth/login/success\", {\n    fetch(process.env.REACT_APP_AUTH, {\n      mode: \"cors\",\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        setLoadingState(true);\n        if (response.status === 200) return response.json();\n        throw new Error(\"Failed to authenticate user\");\n      })\n      .then((responseJson) => {\n        setAuthData(true);\n        setLoadingState(false);\n        setUserData(responseJson.user);\n      })\n      .catch((error) => {\n        setAuthData(false);\n        setUserData(null);\n        setLoadingState(true);\n        console.error(error);\n      });\n  }, []);\n\n  return (\n    <>\n      {isAuth ? (\n        <>\n          <Dashboard />\n        </>\n      ) : (\n        <Welcome />\n      )}\n    </>\n  );\n};\n\nexport default Home;\n","import React, { useContext } from \"react\";\nimport { AuthContext } from \"../Contexts/AuthContext\";\n\nconst Navigation = () => {\n  const { isAuth, setAuthData, setLoadingState } = useContext(AuthContext);\n\n  const handleLogoutClick = () => {\n    window.open(\n      \"https://aqueous-hollows-02149.herokuapp.com/auth/logout\",\n      \"_self\"\n    );\n    setAuthData(false);\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <ul className=\"navbar-list\">\n        {/* <li className=\"home nav-btn navbar-list_item\">\n                    <Link to=\"/\">Home</Link>\n                </li> */}\n        {isAuth ? (\n          <>\n            <h1 className=\"navbar-title\">Saveddit</h1>\n            <li\n              className=\"high-contrast-btn-sm navbar-list_item\"\n              onClick={handleLogoutClick}\n            >\n              Sign out\n            </li>\n          </>\n        ) : (\n          <h1 className=\"navbar-title\">Saveddit</h1>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import React from \"react\";\nimport Home from \"./Components/Home\";\nimport Navigation from \"./Components/Navigation\";\n\nfunction App() {\n  return (\n    <React.Fragment>\n      <Navigation />\n      <Home />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport AuthProvider from \"./Contexts/AuthContext\";\nimport \"./main.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}